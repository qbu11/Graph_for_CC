<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CC for MP - 大屏架构展示</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .title {
            color: white;
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 2rem;
            text-align: center;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .mermaid-container {
            background: white;
            border-radius: 2rem;
            padding: 2rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            width: 95vw;
            height: 80vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .mermaid {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 大屏字体优化 */
        .mermaid .node text,
        .mermaid .edgeLabel text,
        .mermaid .cluster text,
        .mermaid text {
            font-size: 18px !important;
            font-weight: 700 !important;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif !important;
        }

        .mermaid .node rect,
        .mermaid .node circle,
        .mermaid .node polygon {
            stroke-width: 4px !important;
        }

        /* 4K屏幕优化 */
        @media (min-width: 2560px) {
            .title {
                font-size: 4rem;
            }

            .mermaid .node text,
            .mermaid .edgeLabel text,
            .mermaid .cluster text,
            .mermaid text {
                font-size: 28px !important;
            }
        }

        /* 8K屏幕优化 */
        @media (min-width: 3840px) {
            .title {
                font-size: 5rem;
            }

            .mermaid .node text,
            .mermaid .edgeLabel text,
            .mermaid .cluster text,
            .mermaid text {
                font-size: 36px !important;
            }
        }

        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }

        .btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .btn.active {
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
        }
    </style>
</head>
<body>
    <div class="controls">
        <button class="btn active" onclick="showDiagram('architecture')">系统架构</button>
        <button class="btn" onclick="showDiagram('performance')">性能时序</button>
        <button class="btn" onclick="showDiagram('algorithm')">智能算法</button>
        <button class="btn" onclick="showDiagram('retrieval')">检索架构</button>
    </div>

    <h1 class="title" id="diagramTitle">CC for MP - 系统架构总览</h1>

    <div class="mermaid-container">
        <div class="mermaid" id="diagram">
            <!-- 图表将在这里渲染 -->
        </div>
    </div>

    <script>
        // 初始化Mermaid - 超大屏显示优化
        mermaid.initialize({
            startOnLoad: false,
            theme: 'default',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#1a1a1a',
                primaryBorderColor: '#4a5568',
                lineColor: '#667eea',
                secondaryColor: '#f7fafc',
                tertiaryColor: '#e2e8f0',
                background: '#ffffff',
                mainBkg: '#ffffff',
                secondBkg: '#f8f9fa',
                nodeBorder: '4px',
                clusterBkg: '#f8f9fa',
                clusterBorder: '#667eea',
                defaultLinkColor: '#667eea',
                edgeLabelBackground: '#ffffff'
            },
            flowchart: {
                useMaxWidth: false,
                htmlLabels: true,
                curve: 'cardinal',
                nodeSpacing: 150,
                rankSpacing: 200,
                padding: 80
            },
            gantt: {
                fontSize: 22,
                sectionFontSize: 26,
                numberSectionStyles: 4,
                axisFormat: '%s',
                gridLineStartPadding: 400,
                fontFamily: 'Inter, sans-serif'
            },
            fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif',
            fontSize: '22px',
            maxTextSize: 150000,
            maxWidth: 3000
        });

        // 图表定义 - 超大屏显示
        const diagrams = {
            architecture: {
                title: "CC for MP - 系统架构总览",
                content: `
graph TB
    subgraph "🎯 输入层 Input Layer"
        A1["🎯 问题分析模式<br/><b>项目名 + 创始人问题</b><br/>例：StudySpace 用户留存率低<br/>分析方向：产品PMF + 用户体验"]
        A2["📊 GOH作业3评估模式<br/><b>项目名 + GOH作业3评估</b><br/>例：StudySpace GOH作业3评估<br/>评估内容：自评分析 + 路演目标"]
    end

    subgraph "🧠 6阶段思维链 COT Pipeline"
        B1["🔍 Stage 1<br/><b>意图识别与问题拆解</b><br/>🎯 5W2H深度分析<br/>📋 原子问题精准拆解<br/>⚡ 意图类型智能识别<br/>🏷️ 紧急度等级评估"]
        B2["🎯 Stage 2<br/><b>智能框架映射</b><br/>🎨 7大框架智能匹配<br/>⚖️ 动态权重精准调整<br/>📈 项目阶段智能识别<br/>🚨 紧急度影响因子计算"]
        B3["⚡ Stage 3<br/><b>统一信息检索</b><br/>🔄 10组并行执行任务<br/>📊 多源数据智能整合<br/>🎙️ OH1+QI会议记录挖掘<br/>📚 历史案例精准匹配"]
        B4["🧠 Stage 4<br/><b>深度分析构建</b><br/>🔬 深层原因根因分析<br/>📈 证据链条逻辑整合<br/>⚖️ 风险机会平衡评估<br/>🎯 问题本质精准诊断"]
        B5["📝 Stage 5<br/><b>智能输出生成</b><br/>🎯 3角度策略建议生成<br/>✅ 可执行路径设计<br/>⚠️ 风险预案机制设置<br/>📊 执行效果预期评估"]
        B6["💾 Stage 6<br/><b>报告文档保存</b><br/>📄 MD格式自动存档<br/>🕐 时间戳精准命名<br/>📁 分类路径智能归档<br/>🔍 历史追溯便捷查询"]
    end

    subgraph "📊 信息层级结构 Information Hierarchy"
        C1["📋 申请表<br/><b>Apply</b><br/>基础信息源"]
        C2["🏢 创业营项目<br/><b>Incubation</b><br/>项目进展数据"]
        C3["🎙️ OH1/QI会议记录<br/><b>Meeting Records</b><br/>导师意见精华"]
        C4["📚 顶层方法论<br/><b>Frameworks</b><br/>7大分析框架"]
        C5["📈 历史案例<br/><b>Cases</b><br/>成功经验库"]
    end

    subgraph "🎨 7大分析框架 Analysis Frameworks"
        D1["🎨 产品PMF<br/><b>Product-Market Fit</b>"]
        D2["💰 融资<br/><b>Fundraising</b>"]
        D3["👥 团队<br/><b>Team Building</b>"]
        D4["🚀 GTM市场<br/><b>Go-to-Market</b>"]
        D5["⚙️ 技术架构<br/><b>Tech Architecture</b>"]
        D6["📊 运营管理<br/><b>Operations</b>"]
        D7["⚖️ 财务法务<br/><b>Finance & Legal</b>"]
    end

    subgraph "🔧 工具集成层 Tool Integration"
        E1["🔄 MCP实时数据<br/><b>Real-time Data</b><br/>get_company_info<br/>get_company_tasks"]
        E2["📁 文件检索<br/><b>File Retrieval</b><br/>Glob/Grep/Read<br/>⚡ 并行执行优化"]
        E3["🌐 WebFetch<br/><b>Web Data</b><br/>实时信息获取"]
    end

    subgraph "📤 输出层 Output Layer"
        F1["📝 问题分析输出<br/><b>Problem Analysis</b><br/>📍 OH1会议总结<br/>🎙️ QI核心意见<br/>📋 3角度建议选择"]
        F2["📊 GOH作业3评估输出<br/><b>GOH Assignment 3</b><br/>📊 自评分析验证<br/>🎯 路演目标评估<br/>📈 进展追踪判断"]
        F3["💾 自动存档<br/><b>Auto Archive</b><br/>📄 MD文档生成<br/>🕐 时间戳命名<br/>📁 智能分类存储"]
    end

    %% 主流程连接
    A1 --> B1
    A2 --> B1
    B1 --> B2
    B2 --> B3
    B3 --> B4
    B4 --> B5
    B5 --> B6

    %% 框架映射连接
    B2 -.-> D1
    B2 -.-> D2
    B2 -.-> D3
    B2 -.-> D4
    B2 -.-> D5
    B2 -.-> D6
    B2 -.-> D7

    %% 工具集成连接
    B3 --> E1
    B3 --> E2
    B3 --> E3

    %% 信息检索连接
    E2 --> C1
    E2 --> C2
    E2 --> C3
    E2 --> C4
    E2 --> C5

    %% 输出连接
    B5 --> F1
    B5 --> F2
    B6 --> F3

    %% 样式定义
    classDef inputBox fill:#e3f2fd,stroke:#1976d2,stroke-width:5px,color:#000
    classDef stageBox fill:#f3e5f5,stroke:#7b1fa2,stroke-width:5px,color:#000
    classDef dataBox fill:#e8f5e8,stroke:#388e3c,stroke-width:4px,color:#000
    classDef frameworkBox fill:#fff3e0,stroke:#f57c00,stroke-width:4px,color:#000
    classDef toolBox fill:#fce4ec,stroke:#c2185b,stroke-width:4px,color:#000
    classDef outputBox fill:#e0f2f1,stroke:#00695c,stroke-width:4px,color:#000

    class A1,A2 inputBox
    class B1,B2,B3,B4,B5,B6 stageBox
    class C1,C2,C3,C4,C5 dataBox
    class D1,D2,D3,D4,D5,D6,D7 frameworkBox
    class E1,E2,E3 toolBox
    class F1,F2,F3 outputBox
                `
            },

            performance: {
                title: "CC for MP - 性能时序图",
                content: `
gantt
    title 6阶段执行时序图 (总时长<30秒，极致性能优化)
    dateFormat X
    axisFormat %s

    section 🔍 Stage 1: 意图识别
    意图识别与问题拆解        :active, s1, 0, 5s
    5W2H深度分析             :active, s1-1, 0, 2s
    原子问题精准拆解          :active, s1-2, 2, 3s

    section 🎯 Stage 2: 框架映射
    智能框架映射              :s2, after s1, 3s
    动态权重调整              :s2-1, after s1, 2s
    紧急度评估               :s2-2, 4, 1s

    section ⚡ Stage 3: 并行检索
    统一信息检索              :crit, s3, after s2, 15s
    MCP实时数据获取          :crit, s3-1, after s2, 8s
    文件并行检索              :crit, s3-2, after s2, 12s
    OH1/QI会议记录分析       :crit, s3-3, after s2, 10s

    section 🧠 Stage 4: 分析构建
    深度分析构建              :s4, after s3, 5s
    证据整合                 :s4-1, after s3, 3s
    根因分析                 :s4-2, 24, 2s

    section 📝 Stage 5: 输出生成
    智能输出生成              :s5, after s4, 3s
    3角度建议生成            :s5-1, after s4, 2s
    执行路径设计              :s5-2, 28, 1s

    section 💾 Stage 6: 文档保存
    报告文档保存              :s6, after s5, 2s
    MD格式生成               :s6-1, after s5, 1s
    自动归档                 :s6-2, 31, 1s
                `
            },

            algorithm: {
                title: "CC for MP - 智能框架映射算法",
                content: `
flowchart TD
    A["🎯 问题输入<br/><b>创始人核心问题</b><br/>自然语言处理<br/>语义理解分析"]
    --> B["🔍 关键词提取<br/><b>NLP深度分析</b><br/>实体识别<br/>情感分析<br/>意图分类"]

    B --> C["📊 基础评分<br/><b>框架匹配度计算</b><br/>关键词权重评分<br/>语义相似度分析<br/>历史模式匹配"]

    C --> D["📈 项目阶段识别<br/><b>智能阶段判断</b><br/>🌱 0-1阶段 (MVP验证)<br/>🚀 1-10阶段 (增长扩张)<br/>🏢 10-100阶段 (规模化)"]

    D --> E["⚠️ 紧急度评估<br/><b>优先级智能分级</b><br/>🚨 P0级：危机处理<br/>⚡ P1级：重要紧急<br/>📋 P2级：常规优化"]

    E --> F["⚖️ 动态权重调整<br/><b>智能权重计算</b><br/>阶段权重 × 紧急度权重<br/>历史成功率加权<br/>专家经验融合"]

    F --> G{"🤔 匹配度判断<br/><b>智能路由决策</b><br/>多维度综合评估<br/>置信度计算"}

    G -->|单框架领先<br/>confidence≥80%| H["✅ 直接采用模式<br/><b>单一框架深度分析</b><br/>🎯 专注性强<br/>📈 效率最高<br/>⚡ 快速决策"]

    G -->|多框架竞争<br/>主框架≥40%| I["🔄 主辅框架模式<br/><b>主框架+辅助分析</b><br/>🎨 主框架深度分析<br/>🔍 辅助框架验证<br/>⚖️ 平衡决策"]

    G -->|权重分散<br/>主框架<40%| J["⚖️ 平衡分析模式<br/><b>多角度全面分析</b><br/>📊 多框架并行<br/>🔄 交叉验证<br/>📈 全景视角"]

    G -->|无明显匹配<br/>最高分<30%| K["❓ 澄清请求模式<br/><b>智能交互引导</b><br/>📋 框架选择菜单<br/>🎯 引导式提问<br/>💡 智能推荐"]

    %% 样式定义
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:5px
    style G fill:#fff3e0,stroke:#f57c00,stroke-width:5px
    style H fill:#e8f5e8,stroke:#4caf50,stroke-width:4px
    style I fill:#e8f5e8,stroke:#4caf50,stroke-width:4px
    style J fill:#fff9c4,stroke:#fbc02d,stroke-width:4px
    style K fill:#ffebee,stroke:#f44336,stroke-width:4px
                `
            },

            retrieval: {
                title: "CC for MP - 检索架构",
                content: `
graph LR
    subgraph "📊 数据源层 Data Sources"
        A1["📋 申请表<br/><b>Apply Forms</b><br/>基础信息<br/>团队背景<br/>项目概述"]
        A2["🏢 创业营<br/><b>Incubation</b><br/>项目详情<br/>进展数据<br/>里程碑记录"]
        A3["🎙️ OH1记录<br/><b>OH1 Records</b><br/>会议纪要<br/>导师建议<br/>团队回应"]
        A4["📚 方法论<br/><b>Frameworks</b><br/>分析框架<br/>最佳实践<br/>决策模型"]
        A5["📈 案例库<br/><b>Case Studies</b><br/>成功案例<br/>失败教训<br/>行业趋势"]
    end

    subgraph "🔧 检索引擎 Retrieval Engine"
        B1["📁 Glob<br/><b>文件定位</b><br/>模式匹配<br/>路径搜索<br/>批量定位"]
        B2["🔍 Grep<br/><b>内容搜索</b><br/>正则匹配<br/>语义搜索<br/>上下文提取"]
        B3["📖 Read<br/><b>文档读取</b><br/>结构化解析<br/>内容提取<br/>格式转换"]
        B4["🔄 MCP<br/><b>实时数据</b><br/>公司信息<br/>任务状态<br/>进展更新"]
    end

    subgraph "⚡ 并行处理 Parallel Processing"
        C1["📋 基础信息<br/><b>检索组1-2</b><br/>项目画像<br/>团队信息<br/>基础数据"]
        C2["🔍 问题证据<br/><b>检索组3-6</b><br/>相关案例<br/>历史数据<br/>对比分析"]
        C3["📊 GOH评估<br/><b>检索组7-10</b><br/>作业文档<br/>进展对比<br/>目标追踪"]
    end

    subgraph "🧠 智能整合 Intelligent Integration"
        D1["🎯 证据整合<br/><b>Evidence Integration</b><br/>去重处理<br/>权重评分<br/>可信度验证"]
        D2["📊 数据融合<br/><b>Data Fusion</b><br/>多源整合<br/>一致性检查<br/>冲突解决"]
        D3["📈 洞察生成<br/><b>Insight Generation</b><br/>模式识别<br/>趋势分析<br/>异常检测"]
    end

    %% 连接关系
    A1 --> B1
    A2 --> B2
    A3 --> B3
    A4 --> B4
    A5 --> B4

    B1 --> C1
    B2 --> C2
    B3 --> C3
    B4 --> C1

    C1 --> D1
    C2 --> D2
    C3 --> D3

    %% 样式定义
    classDef sourceBox fill:#e3f2fd,stroke:#1976d2,stroke-width:4px,color:#000
    classDef engineBox fill:#fff3e0,stroke:#f57c00,stroke-width:4px,color:#000
    classDef processBox fill:#e8f5e8,stroke:#388e3c,stroke-width:4px,color:#000
    classDef integrationBox fill:#f3e5f5,stroke:#7b1fa2,stroke-width:4px,color:#000

    class A1,A2,A3,A4,A5 sourceBox
    class B1,B2,B3,B4 engineBox
    class C1,C2,C3 processBox
    class D1,D2,D3 integrationBox
                `
            }
        };

        // 当前显示的图表
        let currentDiagram = 'architecture';

        // 显示图表
        function showDiagram(diagramId) {
            currentDiagram = diagramId;
            const diagram = diagrams[diagramId];

            // 更新标题
            document.getElementById('diagramTitle').textContent = diagram.title;

            // 更新按钮状态
            document.querySelectorAll('.btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // 渲染图表
            const container = document.getElementById('diagram');
            container.innerHTML = '';

            const div = document.createElement('div');
            div.className = 'mermaid';
            div.textContent = diagram.content;
            container.appendChild(div);

            mermaid.init(undefined, div);
        }

        // 页面加载后显示默认图表
        document.addEventListener('DOMContentLoaded', function() {
            showDiagram('architecture');
        });

        // 键盘快捷键
        document.addEventListener('keydown', function(e) {
            if (e.key >= '1' && e.key <= '4') {
                const diagrams = ['architecture', 'performance', 'algorithm', 'retrieval'];
                const index = parseInt(e.key) - 1;
                if (diagrams[index]) {
                    showDiagram(diagrams[index]);
                }
            }
        });
    </script>
</body>
</html>